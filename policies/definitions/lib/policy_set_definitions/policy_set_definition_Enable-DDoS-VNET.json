{
  "name": "Enable-DDoS-VNET",
  "properties": {
    "description": "Protect your virtual networks against volumetric and protocol attacks with Azure DDoS Protection Standard. For more information, visit https://aka.ms/ddosprotectiondocs.",
    "displayName": "Virtual networks should be protected by Azure DDoS Protection Standard",
    "metadata": {
      "category": "Network"
    },
    "parameters": {
      "ddosPlan": {
        "type": "String",
        "defaultValue": "/subscriptions/8406eed5-3171-437f-90bf-184f698e5fd7/resourceGroups/rg-de-ohg-ats-tf-prod-ddos/providers/Microsoft.Network/ddosProtectionPlans/ddos-protection-std"
      },
      "effect": {
        "type": "String",
        "metadata": {
          "displayName": "Effect",
          "description": "Enable or disable the execution of the policy"
        },
        "allowedValues": [
          "Audit",
          "Modify",
          "Disabled"
        ],
        "defaultValue": "Modify"
      }
    },
    "policyDefinitions": {
      "policyDefinitionReferenceId": "Virtual networks should be protected by Azure DDoS Protection Standard",
      "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/94de2ad3-e0c1-4caf-ad78-5d47bbc83d3d",
      "parameters": {
        "effect": {
          "value": "[[parameters('effect')]"
        },
        "ddosPlan": {
          "value": "[[parameters('ddosPlan')]"
        }
      }
    }
  },
  "type": "Microsoft.Authorization/policySetDefinitions"
}
